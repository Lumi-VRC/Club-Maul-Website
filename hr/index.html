<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>HR Team - Club Maul</title>
  <meta name="description" content="VRChat's biggest hunt group!">
  <link rel="icon" type="image/webp" href="../img/icon.webp">
  
  <!-- Open Graph / Facebook / Discord -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://clubmaul.org/hr/">
  <meta property="og:title" content="Club Maul - HR Team">
  <meta property="og:description" content="VRChat's biggest hunt group!">
  <meta property="og:image" content="https://clubmaul.org/img/icon.webp">
  <meta property="og:image:type" content="image/webp">
  <meta property="og:site_name" content="Club Maul">
  
  <!-- Twitter -->
  <meta name="twitter:card" content="summary">
  <meta name="twitter:url" content="https://clubmaul.org/hr/">
  <meta name="twitter:title" content="Club Maul - HR Team">
  <meta name="twitter:description" content="VRChat's biggest hunt group!">
  <meta name="twitter:image" content="https://clubmaul.org/img/icon.webp">
  
  <link rel="stylesheet" href="../styles.css">
</head>
<body>
  <div class="mouse-glow" id="mouse-glow"></div>
  <div class="page-bg page-bg-a"></div>
  <div class="page-bg page-bg-b is-hidden"></div>
  <header class="topbar">
    <div class="topbar-inner">
      <div class="brand-row">
        <a href="../" class="logo" style="text-decoration: none; color: inherit;">
          <img src="../img/icon.webp" alt="" class="logo-icon" aria-hidden="true">
          <span>Club Maul</span>
        </a>
      </div>
      <nav class="nav-links" aria-label="Primary">
        <a href="../">Home</a>
        <div class="dropdown">
          <button class="dropdown-toggle" aria-expanded="false" aria-haspopup="true">
            Meet the Teams
            <span class="dropdown-arrow">▼</span>
          </button>
          <div class="dropdown-menu">
            <a href="../beast/">Beast Team</a>
            <a href="../photography/">Photography Team</a>
            <a href="../hosting/">Hosting Team</a>
            <a href="../security/">Security Team</a>
            <a href="../writing/">Writing Team</a>
            <a href="../hr/">HR Team</a>
            <a href="../creative/">Creative Team</a>
            <a href="../media/">Media Team</a>
          </div>
        </div>
      </nav>
    </div>
  </header>

  <main>
    <section class="hero">
      <div class="hero-bg hero-bg-a"></div>
      <div class="hero-bg hero-bg-b is-hidden"></div>
      <div class="hero-content">
        <h1>@Ember_Starfire</h1>
        <p class="hero-subtext">Taking life one step at a time, growing, learning, and finding joy in the small moments.  Unapologetically myself and trying to leave things a little better than I found them.<br><br>「一緒にいる、それだけでいい。」<br><br>Issho ni iru, sore dake de ii.<br><br>"Being together—that alone is enough."</p>
      </div>
    </section>

    <section class="grid">
      <article class="card card-full-width card-clickable">
        <h2>HR Team</h2>
        <p>Our team members are the friendly first faces new members get to meet when coming into the club... </p>
      </article>
      <article class="card card-full-width card-title-only" id="meet-the-team-card">
        <h2>Meet the Team</h2>
      </article>
    </section>

    <section class="team-member-cards" id="assistant-cards-container">
      <!-- Assistant cards will be dynamically generated here -->
    </section>
  </main>

  <footer>
    2025 Club Maul — Made with curiosity and teamwork.
  </footer>

  <!-- HR Team Modal -->
  <div id="hr-modal" class="modal" aria-hidden="true" role="dialog" aria-labelledby="hr-modal-title">
    <div class="modal-overlay"></div>
    <div class="modal-content">
      <button class="modal-close" aria-label="Close modal">×</button>
      <h2 id="hr-modal-title" class="modal-title">HR Team</h2>
      <p class="modal-text">Our team members are the friendly first faces new members get to meet when coming into the club.<br>We operate a lot of backend tasks to help organize and consolidate various amounts of information for our different teams.<br>We also handle the finer details so our teams can focus on providing for our members without fail.</p>
    </div>
  </div>

  <script src="../script.js"></script>
  <script>
    // Dropdown toggle for mobile
    (function() {
      const dropdowns = document.querySelectorAll('.dropdown');
      dropdowns.forEach(dropdown => {
        const toggle = dropdown.querySelector('.dropdown-toggle');
        if (!toggle) return;
        
        const isMobile = () => window.matchMedia('(max-width: 720px)').matches || 
                             (window.matchMedia('(max-height: 720px)').matches && window.matchMedia('(orientation: portrait)').matches);
        
        toggle.addEventListener('click', (e) => {
          if (isMobile()) {
            e.preventDefault();
            e.stopPropagation();
            dropdown.classList.toggle('active');
          }
        });
        
        // Close dropdown when clicking outside on mobile
        document.addEventListener('click', (e) => {
          if (isMobile() && dropdown.classList.contains('active')) {
            if (!dropdown.contains(e.target)) {
              dropdown.classList.remove('active');
            }
          }
        });
      });
    })();
  </script>
  <script>
    // Load category images for hero background
    (function() {
      const category = 'hr';
      const swapMs = 5000;
      const bgA = document.querySelector('.hero-bg-a');
      const bgB = document.querySelector('.hero-bg-b');
      
      if (!bgA || !bgB) return;
      
      const setBg = (el, url) => {
        el.style.backgroundImage = `url(${url})`;
      };
      
      const loadCategoryImages = async () => {
        const owner = "Lumi-VRC";
        const repo = "Club-Maul-Website";
        const branch = "main";
        const imageDir = `img/${category}`;
        const apiUrl = `https://api.github.com/repos/${owner}/${repo}/contents/${imageDir}?ref=${branch}`;
        
        try {
          const res = await fetch(apiUrl, {
            headers: { Accept: "application/vnd.github.v3+json" },
          });
          if (!res.ok) throw new Error(`GitHub API ${res.status}`);
          const data = await res.json();
          const images = data
            .filter(
              (item) =>
                item.type === "file" &&
                /\.(png|jpe?g|gif|webp|avif)$/i.test(item.name) &&
                !item.name.includes('bg/')
            )
            .map((item) =>
              item.download_url.includes("?")
                ? `${item.download_url}&raw=1`
                : `${item.download_url}?raw=1`
            );
          
          if (!images.length) {
            bgA.style.backgroundImage = 'url(../img/mainpage/cards/banneranim.webp)';
            bgA.classList.remove('is-hidden');
            return;
          }
          
          let index = 0;
          let useA = true;
          setBg(bgA, images[0]);
          bgA.classList.remove('is-hidden');
          if (images.length === 1) return;
          
          setInterval(() => {
            index = (index + 1) % images.length;
            const incoming = useA ? bgB : bgA;
            const outgoing = useA ? bgA : bgB;
            setBg(incoming, images[index]);
            incoming.classList.remove('is-hidden');
            outgoing.classList.add('is-hidden');
            useA = !useA;
          }, swapMs);
        } catch (err) {
          console.warn(`Could not load ${category} images`, err);
          bgA.style.backgroundImage = 'url(../img/mainpage/cards/banneranim.webp)';
          bgA.classList.remove('is-hidden');
        }
      };
      
      loadCategoryImages();
    })();
  </script>
  <script>
    // Load assistant cards from subfolders
    (function() {
      const category = 'hr';
      const swapMs = 5000;
      const container = document.querySelector('#assistant-cards-container');
      if (!container) return;
      
      const owner = "Lumi-VRC";
      const repo = "Club-Maul-Website";
      const branch = "main";
      const assistantsDir = `img/${category}/assistants`;
      const apiUrl = `https://api.github.com/repos/${owner}/${repo}/contents/${assistantsDir}?ref=${branch}`;
      
      const createCard = (folderName, cardIndex) => {
        const card = document.createElement('article');
        card.className = 'card team-member-card';
        card.id = `assistant-card-${cardIndex}`;
        
        const bgA = document.createElement('div');
        bgA.className = 'team-member-card-bg team-member-card-bg-a';
        const bgB = document.createElement('div');
        bgB.className = 'team-member-card-bg team-member-card-bg-b is-hidden';
        
        const content = document.createElement('div');
        content.className = 'team-member-card-content';
        const title = document.createElement('h2');
        title.textContent = folderName;
        content.appendChild(title);
        
        card.appendChild(bgA);
        card.appendChild(bgB);
        card.appendChild(content);
        
        return { card, bgA, bgB };
      };
      
      const loadImagesForFolder = async (folderName, bgA, bgB, card) => {
        const imageDir = `${assistantsDir}/${encodeURIComponent(folderName)}`;
        const folderApiUrl = `https://api.github.com/repos/${owner}/${repo}/contents/${imageDir}?ref=${branch}`;
        
        try {
          const res = await fetch(folderApiUrl, {
            headers: { Accept: "application/vnd.github.v3+json" },
          });
          if (!res.ok) throw new Error(`GitHub API ${res.status}`);
          const data = await res.json();
          const images = data
            .filter(
              (item) =>
                item.type === "file" &&
                /\.(png|jpe?g|gif|webp|avif)$/i.test(item.name)
            )
            .map((item) =>
              item.download_url.includes("?")
                ? `${item.download_url}&raw=1`
                : `${item.download_url}?raw=1`
            );
          
          if (!images.length) {
            card.style.display = 'none';
            return false; // Card is not visible
          }
          
          const setBg = (el, url) => {
            el.style.backgroundImage = `url(${url})`;
          };
          
          let index = 0;
          let useA = true;
          setBg(bgA, images[0]);
          bgA.classList.remove('is-hidden');
          if (images.length === 1) return true; // Card is visible
          
          setInterval(() => {
            index = (index + 1) % images.length;
            const incoming = useA ? bgB : bgA;
            const outgoing = useA ? bgA : bgB;
            setBg(incoming, images[index]);
            incoming.classList.remove('is-hidden');
            outgoing.classList.add('is-hidden');
            useA = !useA;
          }, swapMs);
          
          return true; // Card is visible
        } catch (err) {
          console.warn(`Could not load images for ${folderName}`, err);
          card.style.display = 'none';
          return false; // Card is not visible
        }
      };
      
      // Fetch list of assistant folders
      fetch(apiUrl, {
        headers: { Accept: "application/vnd.github.v3+json" },
      })
        .then(async (res) => {
          if (!res.ok) throw new Error(`GitHub API ${res.status}`);
          const data = await res.json();
          const folders = data.filter((item) => item.type === "dir");
          
          if (folders.length === 0) {
            // Hide "Meet the Team" card if no assistant folders exist
            const meetTeamCard = document.getElementById('meet-the-team-card');
            if (meetTeamCard) {
              meetTeamCard.style.display = 'none';
            }
            return;
          }
          
          // Load all cards and track which ones are visible
          const cardPromises = folders.map((folder, index) => {
            const { card, bgA, bgB } = createCard(folder.name, index);
            container.appendChild(card);
            return loadImagesForFolder(folder.name, bgA, bgB, card);
          });
          
          // Wait for all cards to load, then check if any are visible
          const results = await Promise.all(cardPromises);
          const hasVisibleCards = results.some(visible => visible === true);
          
          // Hide "Meet the Team" card if no assistant cards are visible
          if (!hasVisibleCards) {
            const meetTeamCard = document.getElementById('meet-the-team-card');
            if (meetTeamCard) {
              meetTeamCard.style.display = 'none';
            }
          }
        })
        .catch((err) => {
          console.warn(`Could not load assistant folders for ${category}`, err);
          // Hide "Meet the Team" card on error
          const meetTeamCard = document.getElementById('meet-the-team-card');
          if (meetTeamCard) {
            meetTeamCard.style.display = 'none';
          }
        });
    })();
  </script>
  <script>
    // Mobile header toggle
    (function() {
      const topbar = document.querySelector('.topbar');
      const brandRow = document.querySelector('.brand-row');
      if (!topbar || !brandRow) return;
      
      const isMobile = () => window.matchMedia('(max-width: 720px)').matches || 
                           (window.matchMedia('(max-height: 720px)').matches && window.matchMedia('(orientation: portrait)').matches);
      
      const toggleHeader = (e) => {
        if (!isMobile()) return;
        e.preventDefault();
        e.stopPropagation();
        topbar.classList.toggle('is-expanded');
      };
      
      brandRow.addEventListener('click', toggleHeader);
      
      // Close header when clicking outside on mobile
      document.addEventListener('click', (e) => {
        if (isMobile() && topbar.classList.contains('is-expanded')) {
          if (!topbar.contains(e.target)) {
            topbar.classList.remove('is-expanded');
          }
        }
      });
    })();
  </script>
  <script>
    // Parallax effect for background images
    (function() {
      const parallaxElements = document.querySelectorAll('.page-bg, .hero-bg');
      if (!parallaxElements.length) return;
      
      let mouseX = 0.5;
      let mouseY = 0.5;
      let targetX = 0.5;
      let targetY = 0.5;
      const parallaxIntensity = 0.02; // Adjust this to control parallax strength
      const smoothness = 0.1; // Smoothing factor for animation
      
      // Track mouse position
      document.addEventListener('mousemove', (e) => {
        targetX = e.clientX / window.innerWidth;
        targetY = e.clientY / window.innerHeight;
      });
      
      // Smooth animation loop
      function animate() {
        mouseX += (targetX - mouseX) * smoothness;
        mouseY += (targetY - mouseY) * smoothness;
        
        parallaxElements.forEach(el => {
          // Skip hidden elements
          if (el.classList.contains('is-hidden')) return;
          
          // Calculate offset (moves away from mouse)
          const offsetX = -(mouseX - 0.5) * parallaxIntensity * 100;
          const offsetY = -(mouseY - 0.5) * parallaxIntensity * 100;
          
          // Apply transform
          el.style.transform = `translate(${offsetX}%, ${offsetY}%)`;
        });
        
        requestAnimationFrame(animate);
      }
      
      animate();
    })();
  </script>
  <script>
    // HR Team Modal
    (function() {
      const hrCard = document.querySelector('.card-clickable');
      const modal = document.getElementById('hr-modal');
      if (!hrCard || !modal) return;
      
      const closeBtn = modal.querySelector('.modal-close');
      const overlay = modal.querySelector('.modal-overlay');
      
      const openModal = () => {
        modal.classList.add('is-open');
        modal.setAttribute('aria-hidden', 'false');
        document.body.style.overflow = 'hidden';
      };
      
      const closeModal = () => {
        modal.classList.remove('is-open');
        modal.setAttribute('aria-hidden', 'true');
        document.body.style.overflow = '';
      };
      
      hrCard.addEventListener('click', (e) => {
        e.preventDefault();
        openModal();
      });
      
      closeBtn.addEventListener('click', closeModal);
      overlay.addEventListener('click', closeModal);
      
      // Close on Escape key
      document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape' && modal.classList.contains('is-open')) {
          closeModal();
        }
      });
    })();
  </script>
  <script>
    // Mouse glow effect
    (function() {
      const glow = document.getElementById('mouse-glow');
      if (!glow) return;
      
      let mouseX = 0;
      let mouseY = 0;
      let glowX = 0;
      let glowY = 0;
      const smoothness = 0.15;
      
      document.addEventListener('mousemove', (e) => {
        mouseX = e.clientX;
        mouseY = e.clientY;
        glow.classList.add('active');
      });
      
      function animate() {
        glowX += (mouseX - glowX) * smoothness;
        glowY += (mouseY - glowY) * smoothness;
        
        glow.style.left = `${glowX}px`;
        glow.style.top = `${glowY}px`;
        
        requestAnimationFrame(animate);
      }
      
      animate();
    })();
  </script>
</body>
</html>

