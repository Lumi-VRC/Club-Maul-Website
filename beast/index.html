<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Beast Team - Club Maul</title>
  <meta name="description" content="VRChat's biggest hunt group!">
  <link rel="icon" type="image/webp" href="../img/icon.webp">
  
  <!-- Open Graph / Facebook / Discord -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://clubmaul.org/beast/">
  <meta property="og:title" content="Club Maul - Beast Team">
  <meta property="og:description" content="VRChat's biggest hunt group!">
  <meta property="og:image" content="https://clubmaul.org/img/icon.webp">
  <meta property="og:image:type" content="image/webp">
  <meta property="og:site_name" content="Club Maul">
  
  <!-- Twitter -->
  <meta name="twitter:card" content="summary">
  <meta name="twitter:url" content="https://clubmaul.org/beast/">
  <meta name="twitter:title" content="Club Maul - Beast Team">
  <meta name="twitter:description" content="VRChat's biggest hunt group!">
  <meta name="twitter:image" content="https://clubmaul.org/img/icon.webp">
  
  <link rel="stylesheet" href="../styles.css">
</head>
<body>
  <div class="page-bg page-bg-a"></div>
  <div class="page-bg page-bg-b is-hidden"></div>
  <header class="topbar">
    <div class="topbar-inner">
      <div class="brand-row">
        <a href="../" class="logo" style="text-decoration: none; color: inherit;">
          <img src="../img/icon.webp" alt="" class="logo-icon" aria-hidden="true">
          <span>Club Maul</span>
        </a>
      </div>
      <nav class="nav-links" aria-label="Primary">
        <a href="../">Home</a>
        <div class="dropdown">
          <button class="dropdown-toggle" aria-expanded="false" aria-haspopup="true">
            Meet the Teams
            <span class="dropdown-arrow">▼</span>
          </button>
          <div class="dropdown-menu">
            <a href="../beast/">Beast Team</a>
            <a href="../photography/">Photography Team</a>
            <a href="../hosting/">Hosting Team</a>
            <a href="../security/">Security Team</a>
            <a href="../writing/">Writing Team</a>
            <a href="../hr/">HR Team</a>
            <a href="../creative/">Creative Team</a>
            <a href="../media/">Media Team</a>
          </div>
        </div>
      </nav>
    </div>
  </header>

  <main>
    <section class="hero">
      <div class="hero-bg hero-bg-a"></div>
      <div class="hero-bg hero-bg-b is-hidden"></div>
      <div class="hero-content">
        <h1>@Chemicalcrux</h1>
      </div>
    </section>

    <section class="team-member-cards" id="assistant-cards-container">
      <!-- Assistant cards will be dynamically generated here -->
    </section>
  </main>

  <footer>
    2025 Club Maul — Made with curiosity and teamwork.
  </footer>
  <script src="../script.js"></script>
  <script>
    // Dropdown toggle for mobile
    (function() {
      const dropdowns = document.querySelectorAll('.dropdown');
      dropdowns.forEach(dropdown => {
        const toggle = dropdown.querySelector('.dropdown-toggle');
        if (!toggle) return;
        
        const isMobile = () => window.matchMedia('(max-width: 720px)').matches || 
                             (window.matchMedia('(max-height: 720px)').matches && window.matchMedia('(orientation: portrait)').matches);
        
        toggle.addEventListener('click', (e) => {
          if (isMobile()) {
            e.preventDefault();
            e.stopPropagation();
            dropdown.classList.toggle('active');
          }
        });
        
        // Close dropdown when clicking outside on mobile
        document.addEventListener('click', (e) => {
          if (isMobile() && dropdown.classList.contains('active')) {
            if (!dropdown.contains(e.target)) {
              dropdown.classList.remove('active');
            }
          }
        });
      });
    })();
  </script>
  <script>
    // Load category images for hero background
    (function() {
      const category = 'beast';
      const swapMs = 5000;
      const bgA = document.querySelector('.hero-bg-a');
      const bgB = document.querySelector('.hero-bg-b');
      
      if (!bgA || !bgB) return;
      
      const setBg = (el, url) => {
        el.style.backgroundImage = `url(${url})`;
      };
      
      // Try to find images in the category directory
      const imageFiles = [];
      const extensions = ['.png', '.jpg', '.jpeg', '.webp'];
      
      // For now, we'll use a simple approach - check if images exist
      // In production, you'd fetch from GitHub API or have a manifest
      const loadCategoryImages = async () => {
        const owner = "Lumi-VRC";
        const repo = "Club-Maul-Website";
        const branch = "main";
        const imageDir = `img/${category}`;
        const apiUrl = `https://api.github.com/repos/${owner}/${repo}/contents/${imageDir}?ref=${branch}`;
        
        try {
          const res = await fetch(apiUrl, {
            headers: { Accept: "application/vnd.github.v3+json" },
          });
          if (!res.ok) throw new Error(`GitHub API ${res.status}`);
          const data = await res.json();
          const images = data
            .filter(
              (item) =>
                item.type === "file" &&
                /\.(png|jpe?g|gif|webp|avif)$/i.test(item.name) &&
                !item.name.includes('bg/')
            )
            .map((item) =>
              item.download_url.includes("?")
                ? `${item.download_url}&raw=1`
                : `${item.download_url}?raw=1`
            );
          
          if (!images.length) {
            bgA.style.backgroundImage = 'url(../img/mainpage/cards/banneranim.webp)';
            bgA.classList.remove('is-hidden');
            return;
          }
          
          let index = 0;
          let useA = true;
          setBg(bgA, images[0]);
          bgA.classList.remove('is-hidden');
          if (images.length === 1) return;
          
          setInterval(() => {
            index = (index + 1) % images.length;
            const incoming = useA ? bgB : bgA;
            const outgoing = useA ? bgA : bgB;
            setBg(incoming, images[index]);
            incoming.classList.remove('is-hidden');
            outgoing.classList.add('is-hidden');
            useA = !useA;
          }, swapMs);
        } catch (err) {
          console.warn(`Could not load ${category} images`, err);
          bgA.style.backgroundImage = 'url(../img/mainpage/cards/banneranim.webp)';
          bgA.classList.remove('is-hidden');
        }
      };
      
      loadCategoryImages();
    })();
  </script>
  <script>
    // Load assistant cards from subfolders
    (function() {
      const category = 'beast';
      const swapMs = 5000;
      const container = document.querySelector('#assistant-cards-container');
      if (!container) return;
      
      const owner = "Lumi-VRC";
      const repo = "Club-Maul-Website";
      const branch = "main";
      const assistantsDir = `img/${category}/assistants`;
      const apiUrl = `https://api.github.com/repos/${owner}/${repo}/contents/${assistantsDir}?ref=${branch}`;
      
      const createCard = (folderName, cardIndex) => {
        const card = document.createElement('article');
        card.className = 'card team-member-card';
        card.id = `assistant-card-${cardIndex}`;
        
        const bgA = document.createElement('div');
        bgA.className = 'team-member-card-bg team-member-card-bg-a';
        const bgB = document.createElement('div');
        bgB.className = 'team-member-card-bg team-member-card-bg-b is-hidden';
        
        const content = document.createElement('div');
        content.className = 'team-member-card-content';
        const title = document.createElement('h2');
        title.textContent = folderName;
        content.appendChild(title);
        
        card.appendChild(bgA);
        card.appendChild(bgB);
        card.appendChild(content);
        
        return { card, bgA, bgB };
      };
      
      const loadImagesForFolder = async (folderName, bgA, bgB, card) => {
        const imageDir = `${assistantsDir}/${encodeURIComponent(folderName)}`;
        const folderApiUrl = `https://api.github.com/repos/${owner}/${repo}/contents/${imageDir}?ref=${branch}`;
        
        try {
          const res = await fetch(folderApiUrl, {
            headers: { Accept: "application/vnd.github.v3+json" },
          });
          if (!res.ok) throw new Error(`GitHub API ${res.status}`);
          const data = await res.json();
          const images = data
            .filter(
              (item) =>
                item.type === "file" &&
                /\.(png|jpe?g|gif|webp|avif)$/i.test(item.name)
            )
            .map((item) =>
              item.download_url.includes("?")
                ? `${item.download_url}&raw=1`
                : `${item.download_url}?raw=1`
            );
          
          if (!images.length) {
            card.style.display = 'none';
            return;
          }
          
          const setBg = (el, url) => {
            el.style.backgroundImage = `url(${url})`;
          };
          
          let index = 0;
          let useA = true;
          setBg(bgA, images[0]);
          bgA.classList.remove('is-hidden');
          if (images.length === 1) return;
          
          setInterval(() => {
            index = (index + 1) % images.length;
            const incoming = useA ? bgB : bgA;
            const outgoing = useA ? bgA : bgB;
            setBg(incoming, images[index]);
            incoming.classList.remove('is-hidden');
            outgoing.classList.add('is-hidden');
            useA = !useA;
          }, swapMs);
        } catch (err) {
          console.warn(`Could not load images for ${folderName}`, err);
          card.style.display = 'none';
        }
      };
      
      // Fetch list of assistant folders
      fetch(apiUrl, {
        headers: { Accept: "application/vnd.github.v3+json" },
      })
        .then((res) => {
          if (!res.ok) throw new Error(`GitHub API ${res.status}`);
          return res.json();
        })
        .then((data) => {
          const folders = data.filter((item) => item.type === "dir");
          
          folders.forEach((folder, index) => {
            const { card, bgA, bgB } = createCard(folder.name, index);
            container.appendChild(card);
            loadImagesForFolder(folder.name, bgA, bgB, card);
          });
        })
        .catch((err) => {
          console.warn(`Could not load assistant folders for ${category}`, err);
        });
    })();
  </script>
  <script>
    // Mobile header toggle
    (function() {
      const topbar = document.querySelector('.topbar');
      const brandRow = document.querySelector('.brand-row');
      if (!topbar || !brandRow) return;
      
      const isMobile = () => window.matchMedia('(max-width: 720px)').matches || 
                           (window.matchMedia('(max-height: 720px)').matches && window.matchMedia('(orientation: portrait)').matches);
      
      const toggleHeader = (e) => {
        if (!isMobile()) return;
        e.preventDefault();
        e.stopPropagation();
        topbar.classList.toggle('is-expanded');
      };
      
      brandRow.addEventListener('click', toggleHeader);
      
      // Close header when clicking outside on mobile
      document.addEventListener('click', (e) => {
        if (isMobile() && topbar.classList.contains('is-expanded')) {
          if (!topbar.contains(e.target)) {
            topbar.classList.remove('is-expanded');
          }
        }
      });
    })();
  </script>
  <script>
    // Parallax effect for background images
    (function() {
      const parallaxElements = document.querySelectorAll('.page-bg, .hero-bg');
      if (!parallaxElements.length) return;
      
      let mouseX = 0.5;
      let mouseY = 0.5;
      let targetX = 0.5;
      let targetY = 0.5;
      const parallaxIntensity = 0.02; // Adjust this to control parallax strength
      const smoothness = 0.1; // Smoothing factor for animation
      
      // Track mouse position
      document.addEventListener('mousemove', (e) => {
        targetX = e.clientX / window.innerWidth;
        targetY = e.clientY / window.innerHeight;
      });
      
      // Smooth animation loop
      function animate() {
        mouseX += (targetX - mouseX) * smoothness;
        mouseY += (targetY - mouseY) * smoothness;
        
        parallaxElements.forEach(el => {
          // Skip hidden elements
          if (el.classList.contains('is-hidden')) return;
          
          // Calculate offset (inverted movement)
          const offsetX = (mouseX - 0.5) * parallaxIntensity * 100;
          const offsetY = (mouseY - 0.5) * parallaxIntensity * 100;
          
          // Apply transform
          el.style.transform = `translate(${offsetX}%, ${offsetY}%)`;
        });
        
        requestAnimationFrame(animate);
      }
      
      animate();
    })();
  </script>
</body>
</html>

